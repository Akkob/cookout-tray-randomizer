<!DOCTYPE html>
<html>
	<head>
		<title>Cookout Tray Randomizer</title>
		<link rel="stylesheet" href="/static/css/app.css" media="screen">

	</head>
	<body width=100vw>
		<h1 id="tray" class="tray"></h1>
		<h2 id="side1" class="side"></h2>
		<h2 id="side2" class="side"></h2>
	
	<button type="button" onClick="randomizeSelection()">Randomize</button>
	
	
	</body>
<html>

<script>
window.addEventListener('load', randomizeSelection())


function randomElementFromArray(a) {
    return a[Math.floor(Math.random() * a.length)]
}

function randomizeSelection() {
    fetch('/static/data/trays.json')
    .then(function (response) {
        return response.json();
    })
    .then(function (data) {
        updateSelection(data);
    })
    .catch(function (err) {
        console.log('error: ' + err);
    });
    
    function updateSelection(data) {
        document.querySelector("#tray").innerHTML = randomElementFromArray(data.trays);
        document.querySelector("#side1").innerHTML = randomElementFromArray(data.sides);
        document.querySelector("#side2").innerHTML = randomElementFromArray(data.sides);
    }

}

</script>